<!-- Faraday Penetration Test IDE -->
<!-- Copyright (C) 2016  Infobyte LLC (http://www.infobytesec.com/) -->
<!-- See the file 'doc/LICENSE' for the license information -->

<section id="main" class="seccion clearfix">
    <div class="right-main">
        <div id="reports-main" class="fila clearfix">
            <div class="ws-label">
                <h2><span id="ws-name" title="Current workspace">Status report visualization for {{ workspace }} ({{vulns.count}} vulns)</span></h2><!-- WS name -->
            </div><!-- .ws-label -->
            <div class="btn-group btn-small-margin">
                <a href="#/status/ws/{{workspace}}" class="btn btn-success" title="Back to report">
                    <span class="glyphicon glyphicon-arrow-left"></span>
                </a>
            </div>
            <div id="ws-control" class="btn-group btn-small-margin">
                <button id="refresh" type="button" class="btn btn-danger" title="Refresh current workspace" ng-click="location.reload()">
                    <span class="glyphicon glyphicon-refresh"></span>
                </button>
                <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" title="Change current workspace">
                    Change workspace <span class="caret"></span>
                </button>
                <ul id="nav" class="dropdown-menu dropdown-menu-right" role="menu">
                    <li ng-repeat="ws in workspaces"><a href="#/status/ws/{{ws}}/visualization" class="ws" >{{ws}}</a></li>
                </ul>
                <!-- WS navigation -->
            </div><!-- #ws-control -->
            <div ng-if="vulns.count > 0">
                <div class="btn-group btn-small-margin">
                    <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" title="Select view mode">
                        {{ chartDisplay }} <span class="caret"></span>
                    </button>
                    <ul id="monthList" class="dropdown-menu dropdown-menu-right">
                        <li><a ng-click="switchToTargetDisplay()">Targets</a></li>
                        <li><a ng-click="switchToHostDisplay()">Hosts</a></li>
                    </ul>
                </div>
            </div>

            <div class="reports">
                <div ng-if="vulns.count === 0">
                    <h2>Vulns not found</h2>
                </div>
                <div ng-if="vulns.count > 0">
                    <div class="row">
                        <div class="col-md-6 col-xs-12">
                            <canvas class="chart chart-radar" chart-data="radarChartData" chart-labels="radarChartLabels" chart-series="radarChartSeries"  width="1200" height="400"></canvas>
                        </div>
                        <div class="col-md-6 col-xs-12">
                            <div class="status-report-vis-container">
                                <div ng-repeat="(key, value) in pieChartData">
                                    <div>
                                        <div>{{key}}</div>
                                        <canvas class="chart chart-pie" chart-colours="pieChartColors" chart-data="value" chart-labels="pieChartLabels" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- .reports -->
    </div><!-- #reports-main --></div><!-- .right-main -->
</section><!-- #main -->
